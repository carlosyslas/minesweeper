(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,n,t){e.exports=t(51)},40:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(16),i=t.n(a),c=(t(40),t(11)),u=t(12),l=t(14),s=t(13),f=t(15),d=t(8),p=t(17),m=t(52),h=t(32),v=t(53),g=t(55),w=t(5),b=t(6),x=t(7),E=function(e){return{type:"CREATE_NEW_BOARD",payload:{width:e.width,height:e.height,mines:e.mines}}},C=Object(x.Record)({value:0,covered:!0,flagged:!1}),O=new x.List,N=-1,y=function(e,n){var t=n.row,r=n.col;return t>=0&&r>=0&&t<e.size&&r<e.get(0).size},j=function(e,n,t){if(n<0||t<0)return 0;var r=e.getIn([n,t]);return r&&r.value===N?1:0},S=function(e,n){var t=n.row,r=n.col;return e.getIn([t,r,"covered"])},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload;switch(t){case"UNCOVER_CELL":return function e(n,t){var r=t.row,o=t.col;if(!y(n,{row:r,col:o}))return n;var a=n.getIn([r,o,"value"]),i=n.getIn([r,o,"covered"]);return i?(a===N&&(n=n.map(function(e){return e.map(function(e){return e.get("value")===N?e.set("covered",!1):e})})),n=n.setIn([r,o,"covered"],!1).setIn([r,o,"flagged"],!1),0===a&&i&&(n=e(n,{row:r-1,col:o-1}),n=e(n,{row:r-1,col:o}),n=e(n,{row:r-1,col:o+1}),n=e(n,{row:r,col:o-1}),n=e(n,{row:r,col:o+1}),n=e(n,{row:r+1,col:o-1}),n=e(n,{row:r+1,col:o}),n=e(n,{row:r+1,col:o+1})),n):n}(e,r);case"CREATE_NEW_BOARD":return function(e){for(var n=e.width,t=e.height,r=e.mines,o=[],a=0;a<t;a++){for(var i=[],c=0;c<n;c++)i.push(new C({}));o.push(new x.List(i))}for(var u=new x.List(o),l=0;l<r;l++){for(var s=Math.floor(Math.random()*t),f=Math.floor(Math.random()*n);u.getIn([s,f,"value"])===N;)s=Math.floor(Math.random()*t),f=Math.floor(Math.random()*n);u=u.setIn([s,f,"value"],N)}for(var d=0;d<t;d++)for(var p=0;p<n;p++){var m=u.getIn([d,p,"value"]);m!==N&&(m+=j(u,d-1,p-1),m+=j(u,d-1,p),m+=j(u,d-1,p+1),m+=j(u,d,p-1),m+=j(u,d,p+1),m+=j(u,d+1,p-1),m+=j(u,d+1,p),m+=j(u,d+1,p+1),u=u.setIn([d,p,"value"],m))}return u}(r);case"FLAG_CELL":return function(e,n){var t=n.row,r=n.col;return y(e,{row:t,col:r})&&S(e,{row:t,col:r})?e.setIn([t,r,"flagged"],!0):e}(e,r);case"UNFLAG_CELL":return function(e,n){var t=n.row,r=n.col;return y(e,{row:t,col:r})&&S(e,{row:t,col:r})?e.setIn([t,r,"flagged"],!1):e}(e,r);default:return e}},I=function(e){return e.getIn(["game","board"])},L=function(e){return I(e).flatten().count(function(e){return e.get("covered")&&e.get("value")!==N})},_=function(e){return e.getIn(["game","board",0],new x.List).size},G=function(e){return e.getIn(["game","status"])},z=function(e){return{type:"SET_GAME_STATUS",payload:e}},U={MENU:"menu",RUNNING:"running",LOST:"lost",WON:"won"},M={bodyBackground:"#333",whiteColor:"#fff",primaryColor:"#6cb7ff",cellSize:30,minesCountColors:["#00C9A7","#008F7A","#0089BA","#2C73D2","#845EC2","#D65DB1","#FF6F91","#FF9671"]};function R(){var e=Object(w.a)(["\n  filter: ",";\n"]);return R=function(){return e},e}function A(){var e=Object(w.a)(["\n  color: ",";\n"]);return A=function(){return e},e}function T(){var e=Object(w.a)(["\n  font-size: 12px;\n  color: red;\n"]);return T=function(){return e},e}function B(){var e=Object(w.a)(["\n  width: ","px;\n  height: ","px;\n  border-radius: 50%;\n  background: #ff7500;\n  margin: 0 auto;\n  display: inline-block;\n  vertical-align: middle;\n  box-shadow: 0px 0px 5px 1px #ff3f00, 0px 0px 3px 0px #fffc00 inset;\n"]);return B=function(){return e},e}function D(){var e=Object(w.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return D=function(){return e},e}function W(){var e=Object(w.a)(["\n  box-sizing: border-box;\n  width: ","px;\n  height: ","px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 4px;\n  text-align: center;\n  font-size: ","px;\n  line-height: ","px;\n  transition: 0.3s;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.15) inset;\n  cursor: pointer;\n  :hover {\n    filter: brightness(1.2);\n  }\n"]);return W=function(){return e},e}var F=b.a.div(W(),function(e){return e.size},function(e){return e.size},function(e){return e.covered?M.primaryColor:M.whiteColor},M.bodyBackground,function(e){return.6*e.size},function(e){return e.size}),V=b.a.div(D()),X=b.a.div(B(),function(e){return e.size/2},function(e){return e.size/2}),J=b.a.div(T()),$=function(){return o.a.createElement(J,null,o.a.createElement("i",{className:"fas fa-flag"}))},q=b.a.span(A(),function(e){return M.minesCountColors[e.value-1]}),H=function(e){var n=e.value,t=e.covered,r=e.flagged,a=e.size;return r?o.a.createElement($,null):0===n?null:t?null:n<0?o.a.createElement(X,{size:a}):o.a.createElement(q,{value:n},n)},K=b.a.div(R(),function(e){return e.enabled?"":"brightness(0.9) blur(1px)"}),P=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).handleCellClick=function(e){var n=e.row,r=e.col,o=t.props,a=o.board,i=o.gameStatus,c=o.setGameStatus,u=o.uncoverCell;i===U.RUNNING&&(u({row:n,col:r}),a.getIn([n,r,"value"])===N&&c(U.LOST))},t.handleCellRightClick=function(e,n){var r=n.row,o=n.col,a=t.props,i=a.board,c=a.gameStatus,u=a.unflagCell,l=a.flagCell;e.preventDefault(),c===U.RUNNING&&(i.getIn([r,o,"flagged"])?u({row:r,col:o}):l({row:r,col:o}))},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.setGameStatus;0===e.coveredCellsCount&&n(U.WON)}},{key:"render",value:function(){var e=this,n=this.props,t=n.board,r=n.gameStatus,a=n.windowWidth,i=n.boardWidth,c=Math.min(M.cellSize,a/i);return o.a.createElement(K,{enabled:r===U.RUNNING},t.map(function(n,t){return o.a.createElement(V,null,n.map(function(n,r){return o.a.createElement(F,{covered:n.covered,onClick:function(){return e.handleCellClick({row:t,col:r})},onContextMenu:function(n){return e.handleCellRightClick(n,{row:t,col:r})},size:c},o.a.createElement(H,{value:n.value,covered:n.covered,flagged:n.flagged,size:c}))}))}))}}]),n}(r.Component),Q={createNewBoard:E,uncoverCell:function(e){return{type:"UNCOVER_CELL",payload:{row:e.row,col:e.col}}},flagCell:function(e){return{type:"FLAG_CELL",payload:{row:e.row,col:e.col}}},unflagCell:function(e){return{type:"UNFLAG_CELL",payload:{row:e.row,col:e.col}}},setGameStatus:z},Y=Object(d.b)(function(e){return{board:I(e),gameStatus:G(e),coveredCellsCount:L(e),windowWidth:window.innerWidth,boardWidth:_(e)}},Q)(P);function Z(){var e=Object(w.a)(["\n  position: fixed;\n  top: 150px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 30px;\n  color: ",";\n  text-shadow: -2px -2px 0 ",", 0px -2px 0 ",",\n    2px -2px 0 ",", -2px 2px 0 ",",\n    0px 2px ",", 2px 2px 0 ",",\n    0px 0px 60px ",", 0px 0px 40px ",",\n    0px 0px 20px ",";\n\n  @media (max-width: 400px) {\n    font-size: 25px;\n  }\n"]);return Z=function(){return e},e}var ee=b.a.div(Z(),function(e){return e.color},M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor),ne=function(e){var n=e.gameStatus;if(n===U.RUNNING||n===U.MENU)return null;var t=n===U.LOST?"#c33300":"#0067cb",r=n===U.LOST?"Game Over":"Congratulations!";return o.a.createElement(ee,{color:t},o.a.createElement("h2",null,r))},te=Object(d.b)(function(e){return{gameStatus:G(e)}})(function(e){var n=e.gameStatus;return n===U.MENU?o.a.createElement(g.a,{to:"/"}):o.a.createElement("div",null,o.a.createElement(Y,null),o.a.createElement(ne,{gameStatus:n}))});function re(){var e=Object(w.a)(["\n  text-align: left;\n  border: 0;\n  padding: 10px 30px;\n  font-size: 20px;\n  background: ",";\n  color: ",";\n  display: block;\n  width: 100%;\n  margin-top: 10px;\n  cursor: pointer;\n"]);return re=function(){return e},e}function oe(){var e=Object(w.a)(["\n  margin: 0 0 50px;\n  font-weight: 300;\n"]);return oe=function(){return e},e}function ae(){var e=Object(w.a)(["\n  color: #fff;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n"]);return ae=function(){return e},e}var ie=b.a.div(ae()),ce=b.a.h2(oe()),ue=b.a.button(re(),function(e){return e.color},M.whiteColor),le=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).createNewGame=function(e){var n=e.width,r=e.height,o=e.mines,a=t.props,i=a.createNewBoard,c=a.setGameStatus;i({width:n,height:r,mines:o}),c(U.RUNNING)},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.props.gameStatus===U.RUNNING?o.a.createElement(g.a,{to:"/game"}):o.a.createElement(ie,null,o.a.createElement("div",null,o.a.createElement(ce,null,"Minesweeper"),o.a.createElement(ue,{color:"#9fd356",onClick:function(){return e.createNewGame({width:9,height:9,mines:10})}},"Easy 9x9"),o.a.createElement(ue,{color:"#d8bd00",onClick:function(){return e.createNewGame({width:16,height:16,mines:26})}},"Medium 16x16"),o.a.createElement(ue,{color:"#e15554",onClick:function(){return e.createNewGame({width:30,height:16,mines:50})}},"Expert 30x16")))}}]),n}(r.Component),se={createNewBoard:E,setGameStatus:z},fe=Object(d.b)(function(e){return{gameStatus:G(e)}},se)(le),de=t(19),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.MENU,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload;return"SET_GAME_STATUS"===t?r:e},me=Object(de.combineReducers)({board:k,status:pe}),he=Object(de.combineReducers)({game:me}),ve=t(54);function ge(){var e=Object(w.a)(["\n  padding: 15px;\n  a {\n    padding: 5px;\n    width: 32px;\n    height: 32px;\n    box-sizing: border-box;\n    text-align: center;\n    display: inline-block;\n    border: 1px solid;\n    border-radius: 50%;\n    transition: 0.3s;\n    :hover {\n      background: ",";\n      border-color: transparent;\n      color: ",";\n    }\n  }\n"]);return ge=function(){return e},e}var we=b.a.div(ge(),M.primaryColor,M.bodyBackground),be={setGameStatus:z},xe=Object(d.b)(function(e){return{gameStatus:G(e)}},be)(function(e){var n=e.gameStatus,t=e.setGameStatus;return o.a.createElement(we,null,n!==U.MENU&&o.a.createElement(ve.a,{exact:!0,to:"/",onClick:function(){return t(U.MENU)}},o.a.createElement("i",{className:"fas fa-arrow-left"})))}),Ee=Object(p.b)(he,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ce=function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(d.a,{store:Ee},o.a.createElement(v.a,{basename:"/minesweeper"},o.a.createElement("div",null,o.a.createElement(xe,null),o.a.createElement(m.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:fe}),o.a.createElement(h.a,{exact:!0,path:"/game",component:te})))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.44ff2523.chunk.js.map