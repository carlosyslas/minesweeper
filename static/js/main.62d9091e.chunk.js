(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,n,t){e.exports=t(51)},40:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(16),i=t.n(o),c=(t(40),t(11)),l=t(12),u=t(14),s=t(13),f=t(15),d=t(8),p=t(17),m=t(52),h=t(32),g=t(53),v=t(55),w=t(5),b=t(6),x=t(7),E=function(e){return{type:"CREATE_NEW_BOARD",payload:{width:e.width,height:e.height,mines:e.mines}}},C=Object(x.Record)({value:0,covered:!0,flagged:!1}),N=new x.List,O=-1,y=function(e,n){var t=n.row,r=n.col;return t>=0&&r>=0&&t<e.size&&r<e.get(0).size},j=function(e,n,t){if(n<0||t<0)return 0;var r=e.getIn([n,t]);return r&&r.value===O?1:0},S=function(e,n){var t=n.row,r=n.col;return e.getIn([t,r,"covered"])},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload;switch(t){case"UNCOVER_CELL":return function e(n,t){var r=t.row,a=t.col;if(!y(n,{row:r,col:a}))return n;var o=n.getIn([r,a,"value"]),i=n.getIn([r,a,"covered"]);return i?(o===O&&(n=n.map(function(e){return e.map(function(e){return e.get("value")===O?e.set("covered",!1):e})})),n=n.setIn([r,a,"covered"],!1).setIn([r,a,"flagged"],!1),0===o&&i&&(n=e(n,{row:r-1,col:a-1}),n=e(n,{row:r-1,col:a}),n=e(n,{row:r-1,col:a+1}),n=e(n,{row:r,col:a-1}),n=e(n,{row:r,col:a+1}),n=e(n,{row:r+1,col:a-1}),n=e(n,{row:r+1,col:a}),n=e(n,{row:r+1,col:a+1})),n):n}(e,r);case"CREATE_NEW_BOARD":return function(e){for(var n=e.width,t=e.height,r=e.mines,a=[],o=0;o<t;o++){for(var i=[],c=0;c<n;c++)i.push(new C({}));a.push(new x.List(i))}for(var l=new x.List(a),u=0;u<r;u++){for(var s=Math.floor(Math.random()*t),f=Math.floor(Math.random()*n);l.getIn([s,f,"value"])===O;)s=Math.floor(Math.random()*t),f=Math.floor(Math.random()*n);l=l.setIn([s,f,"value"],O)}for(var d=0;d<t;d++)for(var p=0;p<n;p++){var m=l.getIn([d,p,"value"]);m!==O&&(m+=j(l,d-1,p-1),m+=j(l,d-1,p),m+=j(l,d-1,p+1),m+=j(l,d,p-1),m+=j(l,d,p+1),m+=j(l,d+1,p-1),m+=j(l,d+1,p),m+=j(l,d+1,p+1),l=l.setIn([d,p,"value"],m))}return l}(r);case"FLAG_CELL":return function(e,n){var t=n.row,r=n.col;return y(e,{row:t,col:r})&&S(e,{row:t,col:r})?e.setIn([t,r,"flagged"],!0):e}(e,r);case"UNFLAG_CELL":return function(e,n){var t=n.row,r=n.col;return y(e,{row:t,col:r})&&S(e,{row:t,col:r})?e.setIn([t,r,"flagged"],!1):e}(e,r);default:return e}},I=function(e){return e.getIn(["game","board"])},L=function(e){return I(e).flatten().count(function(e){return e.get("covered")&&e.get("value")!==O})},_=function(e){return e.getIn(["game","board",0],new x.List).size},G=function(e){return e.getIn(["game","status"])},z=function(e){return{type:"SET_GAME_STATUS",payload:e}},U={MENU:"menu",RUNNING:"running",LOST:"lost",WON:"won"},M={bodyBackground:"#333",whiteColor:"#fff",primaryColor:"#6cb7ff",cellSize:30,minesCountColors:["#00C9A7","#008F7A","#0089BA","#2C73D2","#845EC2","#D65DB1","#FF6F91","#FF9671"]};function R(){var e=Object(w.a)(["\n  filter: ",";\n"]);return R=function(){return e},e}function A(){var e=Object(w.a)(["\n  color: ",";\n"]);return A=function(){return e},e}function T(){var e=Object(w.a)(["\n  font-size: 12px;\n  color: red;\n"]);return T=function(){return e},e}function B(){var e=Object(w.a)(["\n  width: ","px;\n  height: ","px;\n  border-radius: 50%;\n  background: #ff7500;\n  margin: 0 auto;\n  display: inline-block;\n  vertical-align: middle;\n  box-shadow: 0px 0px 5px 1px #ff3f00, 0px 0px 3px 0px #fffc00 inset;\n"]);return B=function(){return e},e}function D(){var e=Object(w.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return D=function(){return e},e}function W(){var e=Object(w.a)(["\n  box-sizing: border-box;\n  width: ","px;\n  height: ","px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 4px;\n  text-align: center;\n  font-size: ","px;\n  line-height: ","px;\n  transition: 0.3s;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.15) inset;\n  cursor: pointer;\n  :hover {\n    filter: brightness(1.2);\n  }\n"]);return W=function(){return e},e}var F=b.a.div(W(),function(e){return e.size},function(e){return e.size},function(e){return e.covered?M.primaryColor:M.whiteColor},M.bodyBackground,function(e){return.6*e.size},function(e){return e.size}),V=b.a.div(D()),X=b.a.div(B(),function(e){return e.size/2},function(e){return e.size/2}),J=b.a.div(T()),$=function(){return a.a.createElement(J,null,a.a.createElement("i",{className:"fas fa-flag"}))},q=b.a.span(A(),function(e){return M.minesCountColors[e.value-1]}),H=function(e){var n=e.value,t=e.covered,r=e.flagged,o=e.size;return r?a.a.createElement($,null):0===n?null:t?null:n<0?a.a.createElement(X,{size:o}):a.a.createElement(q,{value:n},n)},K=b.a.div(R(),function(e){return e.enabled?"":"brightness(0.9) blur(1px)"}),P=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).handleCellClick=function(e){var n=e.row,r=e.col,a=t.props,o=a.board,i=a.gameStatus,c=a.setGameStatus,l=a.uncoverCell;i===U.RUNNING&&(l({row:n,col:r}),o.getIn([n,r,"value"])===O&&c(U.LOST))},t.handleCellRightClick=function(e,n){var r=n.row,a=n.col,o=t.props,i=o.board,c=o.gameStatus,l=o.unflagCell,u=o.flagCell;e.preventDefault(),c===U.RUNNING&&(i.getIn([r,a,"flagged"])?l({row:r,col:a}):u({row:r,col:a}))},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.setGameStatus;0===e.coveredCellsCount&&n(U.WON)}},{key:"render",value:function(){var e=this,n=this.props,t=n.board,r=n.gameStatus,o=n.windowWidth,i=n.boardWidth,c=Math.min(M.cellSize,o/i);return a.a.createElement(K,{enabled:r===U.RUNNING},t.map(function(n,t){return a.a.createElement(V,null,n.map(function(n,r){return a.a.createElement(F,{covered:n.covered,onClick:function(){return e.handleCellClick({row:t,col:r})},onContextMenu:function(n){return e.handleCellRightClick(n,{row:t,col:r})},size:c},a.a.createElement(H,{value:n.value,covered:n.covered,flagged:n.flagged,size:c}))}))}))}}]),n}(r.Component),Q={createNewBoard:E,uncoverCell:function(e){return{type:"UNCOVER_CELL",payload:{row:e.row,col:e.col}}},flagCell:function(e){return{type:"FLAG_CELL",payload:{row:e.row,col:e.col}}},unflagCell:function(e){return{type:"UNFLAG_CELL",payload:{row:e.row,col:e.col}}},setGameStatus:z},Y=Object(d.b)(function(e){return{board:I(e),gameStatus:G(e),coveredCellsCount:L(e),windowWidth:window.innerWidth,boardWidth:_(e)}},Q)(P);function Z(){var e=Object(w.a)(["\n  position: fixed;\n  top: 150px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 30px;\n  color: ",";\n  text-shadow: -2px -2px 0 ",", 0px -2px 0 ",",\n    2px -2px 0 ",", -2px 2px 0 ",",\n    0px 2px ",", 2px 2px 0 ",",\n    0px 0px 60px ",", 0px 0px 40px ",",\n    0px 0px 20px ",";\n\n  @media (max-width: 400px) {\n    font-size: 25px;\n  }\n"]);return Z=function(){return e},e}var ee=b.a.div(Z(),function(e){return e.color},M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor,M.whiteColor),ne=function(e){var n=e.gameStatus;if(n===U.RUNNING||n===U.MENU)return null;var t=n===U.LOST?"#c33300":"#0067cb",r=n===U.LOST?"Game Over":"Congratulations!";return a.a.createElement(ee,{color:t},a.a.createElement("h2",null,r))},te=Object(d.b)(function(e){return{gameStatus:G(e)}})(function(e){var n=e.gameStatus;return n===U.MENU?a.a.createElement(v.a,{to:"/"}):a.a.createElement("div",null,a.a.createElement(Y,null),a.a.createElement(ne,{gameStatus:n}))});function re(){var e=Object(w.a)(["\n  text-align: left;\n  border: 0;\n  padding: 10px 30px;\n  font-size: 20px;\n  background: ",";\n  color: ",";\n  display: block;\n  width: 100%;\n  margin-top: 10px;\n  cursor: pointer;\n\n  i {\n    margin-right: 15px;\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(w.a)(["\n  margin: 0 0 50px;\n  font-weight: 300;\n"]);return ae=function(){return e},e}function oe(){var e=Object(w.a)(["\n  color: #fff;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n"]);return oe=function(){return e},e}var ie=b.a.div(oe()),ce=b.a.h2(ae()),le=b.a.button(re(),function(e){return e.color},M.whiteColor),ue=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).createNewGame=function(e){var n=e.width,r=e.height,a=e.mines,o=t.props,i=o.createNewBoard,c=o.setGameStatus;i({width:n,height:r,mines:a}),c(U.RUNNING)},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.gameStatus===U.RUNNING?a.a.createElement(v.a,{to:"/game"}):a.a.createElement(ie,null,a.a.createElement("div",null,a.a.createElement(ce,null,"Minesweeper"),a.a.createElement(le,{color:"#9fd356",onClick:function(){return e.createNewGame({width:9,height:9,mines:10})}},a.a.createElement("i",{className:"fas fa-poop"}),"Easy 9x9"),a.a.createElement(le,{color:"#d8bd00",onClick:function(){return e.createNewGame({width:16,height:16,mines:26})}},a.a.createElement("i",{className:"fas fa-fire-alt"}),"Medium 16x16"),a.a.createElement(le,{color:"#e15554",onClick:function(){return e.createNewGame({width:30,height:16,mines:50})}},a.a.createElement("i",{className:"fas fa-biohazard"}),"Expert 30x16")))}}]),n}(r.Component),se={createNewBoard:E,setGameStatus:z},fe=Object(d.b)(function(e){return{gameStatus:G(e)}},se)(ue),de=t(19),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.MENU,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload;return"SET_GAME_STATUS"===t?r:e},me=Object(de.combineReducers)({board:k,status:pe}),he=Object(de.combineReducers)({game:me}),ge=t(54);function ve(){var e=Object(w.a)(["\n  padding: 15px;\n  a {\n    padding: 5px;\n    width: 32px;\n    height: 32px;\n    box-sizing: border-box;\n    text-align: center;\n    display: inline-block;\n    border: 1px solid;\n    border-radius: 50%;\n    transition: 0.3s;\n    :hover {\n      background: ",";\n      border-color: transparent;\n      color: ",";\n    }\n  }\n"]);return ve=function(){return e},e}var we=b.a.div(ve(),M.primaryColor,M.bodyBackground),be={setGameStatus:z},xe=Object(d.b)(function(e){return{gameStatus:G(e)}},be)(function(e){var n=e.gameStatus,t=e.setGameStatus;return a.a.createElement(we,null,n!==U.MENU&&a.a.createElement(ge.a,{exact:!0,to:"/",onClick:function(){return t(U.MENU)}},a.a.createElement("i",{className:"fas fa-arrow-left"})))}),Ee=Object(p.b)(he,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ce=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement(d.a,{store:Ee},a.a.createElement(g.a,{basename:"/minesweeper"},a.a.createElement("div",null,a.a.createElement(xe,null),a.a.createElement(m.a,null,a.a.createElement(h.a,{exact:!0,path:"/",component:fe}),a.a.createElement(h.a,{exact:!0,path:"/game",component:te})))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.62d9091e.chunk.js.map