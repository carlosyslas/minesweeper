(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,n,t){e.exports=t(49)},38:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(10),l=t.n(a),c=(t(38),t(11)),u=t(12),i=t(18),f=t(13),s=t(19),d=t(9),p=t(14),v=t(52),m=t(53),g=t(54),h=t(4),w=t(5),x=t(7),b=Object(x.Record)({value:0,covered:!0,flagged:!1}),C=new x.List,E=-1,O=function(e,n){var t=n.row,r=n.col;return t>=0&&r>=0&&t<e.size&&r<e.get(0).size},N=function(e,n,t){if(n<0||t<0)return 0;var r=e.getIn([n,t]);return r&&r.value===E?1:0},S=function(e,n){var t=n.row,r=n.col;return e.getIn([t,r,"covered"])},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload;switch(t){case"UNCOVER_CELL":return function e(n,t){var r=t.row,o=t.col;if(!O(n,{row:r,col:o}))return n;var a=n.getIn([r,o,"value"]),l=n.getIn([r,o,"covered"]);return l?(a===E&&(n=n.map(function(e){return e.map(function(e){return e.get("value")===E?e.set("covered",!1):e})})),n=n.setIn([r,o,"covered"],!1).setIn([r,o,"flagged"],!1),0===a&&l&&(n=e(n,{row:r-1,col:o-1}),n=e(n,{row:r-1,col:o}),n=e(n,{row:r-1,col:o+1}),n=e(n,{row:r,col:o-1}),n=e(n,{row:r,col:o+1}),n=e(n,{row:r+1,col:o-1}),n=e(n,{row:r+1,col:o}),n=e(n,{row:r+1,col:o+1})),n):n}(e,r);case"CREATE_NEW_BOARD":return function(e){for(var n=e.width,t=e.height,r=e.mines,o=[],a=0;a<t;a++){for(var l=[],c=0;c<n;c++)l.push(new b({}));o.push(new x.List(l))}for(var u=new x.List(o),i=0;i<r;i++){for(var f=Math.floor(Math.random()*t),s=Math.floor(Math.random()*n);u.getIn([f,s,"value"])===E;)f=Math.floor(Math.random()*t),s=Math.floor(Math.random()*n);u=u.setIn([f,s,"value"],E)}for(var d=0;d<t;d++)for(var p=0;p<n;p++){var v=u.getIn([d,p,"value"]);v!==E&&(v+=N(u,d-1,p-1),v+=N(u,d-1,p),v+=N(u,d-1,p+1),v+=N(u,d,p-1),v+=N(u,d,p+1),v+=N(u,d+1,p-1),v+=N(u,d+1,p),v+=N(u,d+1,p+1),u=u.setIn([d,p,"value"],v))}return u}(r);case"FLAG_CELL":return function(e,n){var t=n.row,r=n.col;return O(e,{row:t,col:r})&&S(e,{row:t,col:r})?e.setIn([t,r,"flagged"],!0):e}(e,r);case"UNFLAG_CELL":return function(e,n){var t=n.row,r=n.col;return O(e,{row:t,col:r})&&S(e,{row:t,col:r})?e.setIn([t,r,"flagged"],!1):e}(e,r);default:return e}},j=function(e){return e.getIn(["game","board"])},I=function(e){return j(e).flatten().count(function(e){return e.get("covered")&&e.get("value")!==E})},L=function(e){return e.getIn(["game","status"])},k={MENU:Symbol("menu"),RUNNING:Symbol("running"),LOST:Symbol("lost"),WON:Symbol("won")},G={bodyBackground:"#333",whiteColor:"#fff",primaryColor:"#6cb7ff",cellSize:30,minesCountColors:["#00C9A7","#008F7A","#0089BA","#2C73D2","#845EC2","#D65DB1","#FF6F91","#FF9671"]};function R(){var e=Object(h.a)(["\n  filter: ",";\n"]);return R=function(){return e},e}function U(){var e=Object(h.a)(["\n  color: ",";\n"]);return U=function(){return e},e}function A(){var e=Object(h.a)(["\n  font-size: 12px;\n  color: red;\n"]);return A=function(){return e},e}function M(){var e=Object(h.a)(["\n  width: ","px;\n  height: ","px;\n  border-radius: 50%;\n  background: #ff7500;\n  margin: 0 auto;\n  display: inline-block;\n  vertical-align: middle;\n  box-shadow: 0px 0px 5px 1px #ff3f00, 0px 0px 3px 0px #fffc00 inset;\n"]);return M=function(){return e},e}function _(){var e=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return _=function(){return e},e}function z(){var e=Object(h.a)(["\n  width: ","px;\n  height: ","px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 4px;\n  text-align: center;\n  font-size: ","px;\n  line-height: ","px;\n  transition: 0.3s;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.15) inset;\n  cursor: pointer;\n  :hover {\n    filter: brightness(1.2);\n  }\n"]);return z=function(){return e},e}var T=w.a.div(z(),G.cellSize,G.cellSize,function(e){return e.covered?G.primaryColor:G.whiteColor},G.bodyBackground,.6*G.cellSize,G.cellSize),B=w.a.div(_()),F=w.a.div(M(),G.cellSize/2,G.cellSize/2),D=w.a.div(A()),W=function(){return o.a.createElement(D,null,o.a.createElement("i",{className:"fas fa-flag"}))},J=w.a.span(U(),function(e){return G.minesCountColors[e.value-1]}),V=function(e){var n=e.value,t=e.covered;return e.flagged?o.a.createElement(W,null):0===n?null:t?null:n<0?o.a.createElement(F,null):o.a.createElement(J,{value:n},n)},H=w.a.div(R(),function(e){return e.enabled?"":"brightness(0.9) blur(1px)"}),$=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(i.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(o)))).handleCellClick=function(e){var n=e.row,r=e.col,o=t.props,a=o.board,l=o.gameStatus,c=o.setGameStatus,u=o.uncoverCell;l===k.RUNNING&&(u({row:n,col:r}),a.getIn([n,r,"value"])===E&&c(k.LOST))},t.handleCellRightClick=function(e,n){var r=n.row,o=n.col,a=t.props,l=a.board,c=a.gameStatus,u=a.unflagCell,i=a.flagCell;e.preventDefault(),c===k.RUNNING&&(l.getIn([r,o,"flagged"])?u({row:r,col:o}):i({row:r,col:o}))},t}return Object(s.a)(n,e),Object(u.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.setGameStatus;0===e.coveredCellsCount&&n(k.WON)}},{key:"render",value:function(){var e=this,n=this.props,t=n.board,r=n.createNewBoard,a=n.setGameStatus,l=n.coveredCellsCount,c=n.gameStatus;return o.a.createElement(H,{enabled:c===k.RUNNING},"COUNT:",l,o.a.createElement("button",{onClick:function(){a(k.RUNNING),r({width:9,height:9,mines:1})}},"New"),t.map(function(n,t){return o.a.createElement(B,null,n.map(function(n,r){return o.a.createElement(T,{covered:n.covered,onClick:function(){return e.handleCellClick({row:t,col:r})},onContextMenu:function(n){return e.handleCellRightClick(n,{row:t,col:r})}},o.a.createElement(V,{value:n.value,covered:n.covered,flagged:n.flagged}))}))}))}}]),n}(r.Component),q={createNewBoard:function(e){return{type:"CREATE_NEW_BOARD",payload:{width:e.width,height:e.height,mines:e.mines}}},uncoverCell:function(e){return{type:"UNCOVER_CELL",payload:{row:e.row,col:e.col}}},flagCell:function(e){return{type:"FLAG_CELL",payload:{row:e.row,col:e.col}}},unflagCell:function(e){return{type:"UNFLAG_CELL",payload:{row:e.row,col:e.col}}},setGameStatus:function(e){return{type:"SET_GAME_STATUS",payload:e}}},K=Object(d.b)(function(e){return{board:j(e),gameStatus:L(e),coveredCellsCount:I(e)}},q)($);function P(){var e=Object(h.a)(["\n  position: fixed;\n  top: 150px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 30px;\n  color: ",";\n  text-shadow: -2px -2px 0 ",", 0px -2px 0 ",",\n    2px -2px 0 ",", -2px 2px 0 ",",\n    0px 2px ",", 2px 2px 0 ",",\n    0px 0px 60px ",", 0px 0px 40px ",",\n    0px 0px 20px ",";\n\n  @media (max-width: 400px) {\n    font-size: 25px;\n  }\n"]);return P=function(){return e},e}var Q=w.a.div(P(),function(e){return e.color},G.whiteColor,G.whiteColor,G.whiteColor,G.whiteColor,G.whiteColor,G.whiteColor,G.whiteColor,G.whiteColor,G.whiteColor),X=function(e){var n=e.gameStatus;if(n===k.RUNNING||n===k.MENU)return null;var t=n===k.LOST?"#c33300":"#0067cb",r=n===k.LOST?"Game Over":"Congratulations!";return o.a.createElement(Q,{color:t},o.a.createElement("h2",null,r))};function Y(){var e=Object(h.a)(["\n  max-width: 960px;\n  margin: 30px auto;\n  text-align: center;\n"]);return Y=function(){return e},e}var Z=w.a.div(Y()),ee=Object(d.b)(function(e){return{gameStatus:L(e)}})(function(e){var n=e.gameStatus;return o.a.createElement(Z,null,o.a.createElement(K,null),o.a.createElement(X,{gameStatus:n}))}),ne=t(51);function te(){var e=Object(h.a)(["\n  margin: 30px;\n"]);return te=function(){return e},e}function re(){var e=Object(h.a)(["\n  color: #fff;\n  max-width: 960px;\n  margin: 0 auto;\n"]);return re=function(){return e},e}var oe=w.a.div(re()),ae=w.a.div(te()),le=function(){return o.a.createElement(oe,null,o.a.createElement(ae,null,o.a.createElement("h1",null,"Start new game"),"Home ",o.a.createElement(ne.a,{to:"/game"},"Game")))},ce=t(15),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.MENU,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.type,r=n.payload;return"SET_GAME_STATUS"===t?r:e},ie=Object(ce.combineReducers)({board:y,status:ue}),fe=Object(ce.combineReducers)({game:ie}),se=Object(p.b)(fe),de=function(e){function n(){return Object(c.a)(this,n),Object(i.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(d.a,{store:se},o.a.createElement(g.a,{basename:"/minesweeper"},o.a.createElement(v.a,null,o.a.createElement(m.a,{exact:!0,path:"/",component:le}),o.a.createElement(m.a,{path:"/game",component:ee}))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.ce62e56f.chunk.js.map